<div class="row justify-content-md-center" [formGroup]="definitionForm">
    <div class="col-md-6">
        <!-- Material form contact -->
        <mdb-card>
            <!--Card content-->
            <mdb-card-body class="px-md-5 pt-md-5">

                <div class="form-row">
                    <div class="col-md-11 mb-2">
                        <h2>Definições</h2>
                        <h5>Informe o código, tipo e o valor de desconto {{strOfPromo}}.</h5>
                    </div>
                </div>

                <!-- Form -->
                <div class="form-row" *ngIf="typePromo=='coupon'">
                    <div class="col-md-11">
                        <div class="md-form md-outline">
                            <input id="couponCode" type="text" maxlength="16" placeholder="Ex: PRIMEIRACOMPRA"
                                class="form-control" formControlName="couponCode" mdbCharCounter mdbInput
                                [ngClass]="{ 'is-invalid': submitted && dF.couponCode.errors }" />
                            <div *ngIf="submitted && dF.couponCode.errors" class="invalid-feedback">
                                <div *ngIf="dF.couponCode.errors.required">Cupom é obrigatório</div>
                                <div *ngIf="dF.couponCode.value.length < 4">Mínimo de 4 caracteres</div>
                            </div>
                            <label for="couponCode">Cupom de desconto</label>
                        </div>
                    </div>
                </div>

                <div class="form-row">
                    <div class="col-md-7">
                        <div class="md-form">
                            <h5>Tipo de desconto</h5>

                            <div class="form-check form-check-inline mt-1">
                                <input type="radio" class="form-check-input" id="discountType" value="PERCENTAGE"
                                    formControlName="discountType" name="discountType">
                                <label class="form-check-label" for="discountType">Porcentagem</label>
                            </div>

                            <div class="form-check form-check-inline mt-1">
                                <input type="radio" class="form-check-input" id="discountType3" value="DISCOUNT_FIXED"
                                    formControlName="discountType" name="discountType">
                                <label class="form-check-label" for="discountType3">Desconto fixo</label>
                            </div>

                            <div class="form-check form-check-inline mt-1" *ngIf="typePromo=='open'">
                                <input type="radio" class="form-check-input" id="discountType2" value="FIXED_PRICE"
                                    formControlName="discountType" name="discountType">
                                <label class="form-check-label" for="discountType2">Preço fixo</label>
                            </div>

                        </div>
                    </div>
                </div>

                <div class="form-row">
                    <div class="col-md-7">
                        <div class="md-form md-outline" *ngIf="dF.discountType.value == 'DISCOUNT_FIXED'">
                            <input id="discountValue" formControlName="discountValue" currencyMask
                                [options]="{ prefix: 'R$ ', thousands: '.', decimal: ',' }" placeholder="1.000,00"
                                type="text" class="form-control" mdbCharCounter mdbInput
                                [ngClass]="{ 'is-invalid': submitted && dF.discountValue.errors }" />
                            <div *ngIf="submitted && dF.discountValue.errors" class="invalid-feedback">
                                <div *ngIf="dF.discountValue.errors.required">Valor é obrigatório</div>
                                <div *ngIf="dF.discountValue.errors.min">Valor minimo é de R$ 0.10</div>
                            </div>
                        </div>
                        <div class="md-form md-outline" *ngIf="dF.discountType.value == 'PERCENTAGE'">
                            <input currencyMask [options]="{ suffix: ' %', precision: 1}" id="discountValue"
                                formControlName="discountValue" type="text" maxlength="6" placeholder="1-99%"
                                class="form-control" mdbInput
                                [ngClass]="{ 'is-invalid': submitted && dF.discountValue.errors }" />
                            <div *ngIf="submitted && dF.discountValue.errors" class="invalid-feedback">
                                <div *ngIf="dF.discountValue.errors.required">Valor é obrigatório</div>
                                <div *ngIf="dF.discountValue.errors.pattern">Somente números</div>
                                <div *ngIf="dF.discountValue.errors.min">Valor minimo é de 1.0</div>
                            </div>
                            <label for="discountValue">Valor</label>
                        </div>
                    </div>
                </div>

                <div class="form-row mb-3" *ngIf="typePromo=='coupon'">
                    <div class="col-md-10">
                        <h2>Limitar o resgate de cupons?</h2>
                    </div>
                    <div class="col-md-2">
                        <div class="switch">
                            <label>
                                <input type="checkbox" (click)="toggleCouponAmount()" [checked]="showCouponAmount">
                                <span class="lever"></span>
                            </label>
                        </div>
                    </div>

                </div>
                <div *ngIf="showCouponAmount" [ngClass]="(!showCouponAmount)? '' :'animated fadeIn'  ">
                    <div class="form-row mt-1">
                        <div class="col-md-7">
                            <div class="md-form md-outline">
                                <input id="couponAmount" formControlName="couponAmount" type="text" maxlength="10"
                                    placeholder="1000" class="form-control" mdbCharCounter mdbInput
                                    [ngClass]="{ 'is-invalid': submitted && dF.couponAmount.errors }" />
                                <div *ngIf="submitted && dF.couponAmount.errors" class="invalid-feedback">
                                    <div *ngIf="dF.couponAmount.errors.required">Quantidade é obrigatória</div>
                                </div>
                                <label for="couponAmount">Quantidade de cupons</label>
                            </div>
                        </div>
                    </div>

                </div>

                <div class="form-row" *ngIf="typePromo=='coupon'" style="display: none;">
                    <div class="col-md-10">
                        <h2>O cupom é cumulativo com outras promoções, cupons ou vale descontos?</h2>
                    </div>
                    <div class="col-md-2">
                        <div class="switch">
                            <label>
                                <input type="checkbox" (click)="toggleCumulative()" [checked]="showCumulative">
                                <span class="lever"></span>
                            </label>
                        </div>
                    </div>
                </div>


            </mdb-card-body>

        </mdb-card>
        <!-- Material form contact -->
    </div>
</div>